<!DOCTYPE html>
<html lang="en">
<head>
  <title>Rock Paper Scissors</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href = "style.css">
  <link href='https://fonts.googleapis.com/css?family=Playfair+Display:400italic' rel='stylesheet' type='text/css'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript">
  window.onload = function() {
    
//global variables 
var playerScore = 0;
var compScore = 0;
var ties = 0;

//connects HTML buttons to JS functions
document.getElementById('rock').onclick=pRock;
document.getElementById('paper').onclick=pPaper;
document.getElementById('scissors').onclick=pScissors;
document.getElementById('reset').onclick=reset;

//sets player choice to rock when button pressed
function pRock() {
  game('rock');
}

//sets player choice to paper when button pressed
function pPaper() {
  game('paper');
}

//sets player choice to scissors when button pressed
function pScissors() {
  game('scissors');
}

//sets computer choice based on random generator
function compPlay() {
  var compChoice;
  var comp = Math.floor(Math.random() * 3 + 1);
  if (comp == 1) {
    compChoice = 'rock';
  }
  else if (comp == 2) {
    compChoice = 'paper';
  }
  else {
    compChoice = 'scissors';
  }
  return compChoice;
}

//takes player choice and comp choice to actually play game
function game(playerChoice) {
  var compChoice = compPlay();
  //Outputs player and comp choices after player selects a move
  document.getElementById('pResult').innerHTML = 'You: ' + playerChoice;
  document.getElementById('cResult').innerHTML = 'Computer: ' +  compChoice;
   
  //Three sets of nested if-else statements for when user picks rock, paper, or scissors
  if (playerChoice == 'rock') {
    if (compChoice == 'rock') {
    document.getElementById('winner').innerHTML = "It's a tie!"; 
      ties++;
    }
    
    else if (compChoice == 'paper') {
      document.getElementById('winner').innerHTML = "Computer wins!"; 
      compScore++;
    }
    
    else if (compChoice == 'scissors') {
      document.getElementById('winner').innerHTML = "You win!"; 
      playerScore++;
    }    
  }
  
  else if (playerChoice == 'paper') {
    if (compChoice == 'paper') {
    document.getElementById('winner').innerHTML = "It's a tie!";  
    ties++; 
    }
    
    else if (compChoice == 'rock') {
      document.getElementById('winner').innerHTML = "You win!"; 
      playerScore++;
    }
    
    else if (compChoice == 'scissors') {
      document.getElementById('winner').innerHTML = "Computer wins!"; 
      compScore++;
    }
  }
  
  else if (playerChoice == 'scissors') {
    if (compChoice == 'scissors') { 
    document.getElementById('winner').innerHTML = "It's a tie!"; 
    ties++;
    }
    
    else if (compChoice == 'rock') {
      document.getElementById('winner').innerHTML = "Computer wins!"; 
      compScore++;
    }
    
    else if (compChoice == 'paper') {
      document.getElementById('winner').innerHTML = "You win!"; 
      playerScore++;
    }
  }  
  
//Links the user and comp points in the HTML table to the global variables
 document.getElementById('playerScore').innerHTML = playerScore;
 document.getElementById('compScore').innerHTML = compScore; 
 document.getElementById('ties').innerHTML = ties;  
  
};

//resets global variables if reset button is pushed
function reset() {
 playerScore = 0;
 compScore = 0;
 ties = 0;
 document.getElementById('playerScore').innerHTML = playerScore;
 document.getElementById('compScore').innerHTML = compScore;
 document.getElementById('ties').innerHTML = ties;  
};
}
  </script>

</head>
<body>
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="index.html">Rock, Paper, Scissors</a>
    </div>
    <ul class="nav navbar-nav">
      <li class="active"><a href="index.html">The Game</a></li>
    </ul>
  </div>
</nav>

<div class="jumbotron text-center">
  <h1>Rock, Paper, Scissors</h1>
</div>

<div class="container">
  <div class="row">
  	<div class="col-sm-12 text-center">
      <h2>Let's Play!</h2>
    </div>
      <button id='rock'>~ROCK~</button>
      <button id='scissors'>~SCISSORS~</button>
      <button id='paper'>~PAPER~</button>    
      <div class="computeranswer">
    <p id="pResult"></p>
    <p id="cResult"></p>
    <p id="winner"></p>
  </div>
    <button id="reset">RESET</button>
  <table>
    <tr>
      <th colspan="3">Score</th>
    </tr>
    <tr>
       <td>Player</td>
      <td>Computer</td>
      <td>Ties</td>
    </tr>
    <tr>
       <td id="playerScore">0</td>
       <td id="compScore">0</td>
       <td id="ties">0</td>
    </tr>
  </table>
</body>
</html>
